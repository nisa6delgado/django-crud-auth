<div x-show="open" 
    x-transition:enter="ease-out duration-300"
    x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100"
    x-transition:leave="ease-in duration-200"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0"
    class="fixed inset-0 z-50 overflow-y-auto bg-gray-600 bg-opacity-50 flex justify-center items-center"
>

    <div @click.away="open = false" 
        x-show="open"
        x-transition:enter="ease-out duration-300"
        x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
        x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
        x-transition:leave="ease-in duration-200"
        x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
        x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
        class="bg-white rounded-lg shadow-xl w-96 p-6 mx-auto relative transform transition-all"
    >
        <div class="flex justify-between items-center pb-3">
            <h3 class="text-xl font-bold">Importar desde Excel</h3>

            <button @click="open = false" class="cursor-pointer text-gray-400 hover:text-gray-600 text-3xl leading-none">
                &times;
            </button>
        </div>

        <div class="mt-2">
            <form action="/tasks/import" method="POST">
                {% csrf_token %}

                <div x-data="{ fileName: null }" class="flex items-center justify-center w-full">
                    <input
                        type="file"
                        id="file-upload"
                        class="hidden"
                        @change="fileName = $event.target.files[0].name"
                    />

                    <div x-show="!fileName" class="flex items-center">
                        <label
                            for="file-upload"
                            class="flex items-center px-4 py-2 text-white bg-gray-800 rounded-md cursor-pointer hover:bg-gray-600"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="w-5 h-5 mr-2"
                                viewBox="0 0 20 20"
                                fill="currentColor"
                            >
                                <path d="M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"/>
                            </svg>

                            <span>Seleccionar archivo</span>
                        </label>
                    </div>

                    <div x-show="fileName">
                        <div class="p-2 text-gray-700 bg-gray-100 rounded-md">
                            <span x-text="fileName"></span>
                        </div>

                        <div class="text-center">
                            <button class="mt-5 px-4 py-2 text-white bg-gray-800 rounded-md cursor-pointer" type="submit">Importar</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>